{"ast":null,"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.multipartRequestDataProcessor = void 0;\nvar utils_js_1 = require(\"./utils.js\");\n// Method for formatting HTTP body for the multipart/form-data specification\n// Mostly taken from Fermata.js\n// https://github.com/natevw/fermata/blob/5d9732a33d776ce925013a265935facd1626cc88/fermata.js#L315-L343\nvar multipartDataGenerator = function multipartDataGenerator(method, data, headers) {\n  var segno = (Math.round(Math.random() * 1e16) + Math.round(Math.random() * 1e16)).toString();\n  headers['Content-Type'] = \"multipart/form-data; boundary=\".concat(segno);\n  var textEncoder = new TextEncoder();\n  var buffer = new Uint8Array(0);\n  var endBuffer = textEncoder.encode('\\r\\n');\n  function push(l) {\n    var prevBuffer = buffer;\n    var newBuffer = l instanceof Uint8Array ? l : new Uint8Array(textEncoder.encode(l));\n    buffer = new Uint8Array(prevBuffer.length + newBuffer.length + 2);\n    buffer.set(prevBuffer);\n    buffer.set(newBuffer, prevBuffer.length);\n    buffer.set(endBuffer, buffer.length - 2);\n  }\n  function q(s) {\n    return \"\\\"\".concat(s.replace(/\"|\"/g, '%22').replace(/\\r\\n|\\r|\\n/g, ' '), \"\\\"\");\n  }\n  var flattenedData = (0, utils_js_1.flattenAndStringify)(data);\n  for (var k in flattenedData) {\n    var v = flattenedData[k];\n    push(\"--\".concat(segno));\n    if (Object.prototype.hasOwnProperty.call(v, 'data')) {\n      var typedEntry = v;\n      push(\"Content-Disposition: form-data; name=\".concat(q(k), \"; filename=\").concat(q(typedEntry.name || 'blob')));\n      push(\"Content-Type: \".concat(typedEntry.type || 'application/octet-stream'));\n      push('');\n      push(typedEntry.data);\n    } else {\n      push(\"Content-Disposition: form-data; name=\".concat(q(k)));\n      push('');\n      push(v);\n    }\n  }\n  push(\"--\".concat(segno, \"--\"));\n  return buffer;\n};\nfunction multipartRequestDataProcessor(method, data, headers, callback) {\n  data = data || {};\n  if (method !== 'POST') {\n    return callback(null, (0, utils_js_1.stringifyRequestData)(data));\n  }\n  this._stripe._platformFunctions.tryBufferData(data).then(function (bufferedData) {\n    var buffer = multipartDataGenerator(method, bufferedData, headers);\n    return callback(null, buffer);\n  }).catch(function (err) {\n    return callback(err, null);\n  });\n}\nexports.multipartRequestDataProcessor = multipartRequestDataProcessor;","map":{"version":3,"names":["Object","defineProperty","exports","value","multipartRequestDataProcessor","utils_js_1","require","multipartDataGenerator","method","data","headers","segno","Math","round","random","toString","concat","textEncoder","TextEncoder","buffer","Uint8Array","endBuffer","encode","push","l","prevBuffer","newBuffer","length","set","q","s","replace","flattenedData","flattenAndStringify","k","v","prototype","hasOwnProperty","call","typedEntry","name","type","callback","stringifyRequestData","_stripe","_platformFunctions","tryBufferData","then","bufferedData","catch","err"],"sources":["C:/Users/Smert/OneDrive/Masaüstü/react_shop/client/node_modules/stripe/cjs/multipart.js"],"sourcesContent":["\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.multipartRequestDataProcessor = void 0;\nconst utils_js_1 = require(\"./utils.js\");\n// Method for formatting HTTP body for the multipart/form-data specification\n// Mostly taken from Fermata.js\n// https://github.com/natevw/fermata/blob/5d9732a33d776ce925013a265935facd1626cc88/fermata.js#L315-L343\nconst multipartDataGenerator = (method, data, headers) => {\n    const segno = (Math.round(Math.random() * 1e16) + Math.round(Math.random() * 1e16)).toString();\n    headers['Content-Type'] = `multipart/form-data; boundary=${segno}`;\n    const textEncoder = new TextEncoder();\n    let buffer = new Uint8Array(0);\n    const endBuffer = textEncoder.encode('\\r\\n');\n    function push(l) {\n        const prevBuffer = buffer;\n        const newBuffer = l instanceof Uint8Array ? l : new Uint8Array(textEncoder.encode(l));\n        buffer = new Uint8Array(prevBuffer.length + newBuffer.length + 2);\n        buffer.set(prevBuffer);\n        buffer.set(newBuffer, prevBuffer.length);\n        buffer.set(endBuffer, buffer.length - 2);\n    }\n    function q(s) {\n        return `\"${s.replace(/\"|\"/g, '%22').replace(/\\r\\n|\\r|\\n/g, ' ')}\"`;\n    }\n    const flattenedData = (0, utils_js_1.flattenAndStringify)(data);\n    for (const k in flattenedData) {\n        const v = flattenedData[k];\n        push(`--${segno}`);\n        if (Object.prototype.hasOwnProperty.call(v, 'data')) {\n            const typedEntry = v;\n            push(`Content-Disposition: form-data; name=${q(k)}; filename=${q(typedEntry.name || 'blob')}`);\n            push(`Content-Type: ${typedEntry.type || 'application/octet-stream'}`);\n            push('');\n            push(typedEntry.data);\n        }\n        else {\n            push(`Content-Disposition: form-data; name=${q(k)}`);\n            push('');\n            push(v);\n        }\n    }\n    push(`--${segno}--`);\n    return buffer;\n};\nfunction multipartRequestDataProcessor(method, data, headers, callback) {\n    data = data || {};\n    if (method !== 'POST') {\n        return callback(null, (0, utils_js_1.stringifyRequestData)(data));\n    }\n    this._stripe._platformFunctions\n        .tryBufferData(data)\n        .then((bufferedData) => {\n        const buffer = multipartDataGenerator(method, bufferedData, headers);\n        return callback(null, buffer);\n    })\n        .catch((err) => callback(err, null));\n}\nexports.multipartRequestDataProcessor = multipartRequestDataProcessor;\n"],"mappings":"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"},"metadata":{},"sourceType":"script","externalDependencies":[]}